---
name: cache-manager
description: æ€§èƒ½ä¼˜åŒ–å’Œç¼“å­˜ç®¡ç†
---

# Cache Manager Skill

ç®¡ç† Auto-Dev çš„ç¼“å­˜ç­–ç•¥ï¼Œç¡®ä¿æ€§èƒ½ç›®æ ‡è¾¾æˆã€‚

## æ€§èƒ½ç›®æ ‡

| æ“ä½œ | ç›®æ ‡å“åº”æ—¶é—´ |
|-----|------------|
| è§„åˆ™åŒ¹é… (1000 è§„åˆ™) | < 100ms |
| æŒ‡æ ‡è®¡ç®— (1000 å†å²) | < 50ms |
| é¡¹ç›®åˆ†æ (500 æ–‡ä»¶) | < 5s |
| status å‘½ä»¤ | < 200ms |

## ç¼“å­˜å±‚çº§

### 1. å†…å­˜ç¼“å­˜

é«˜é¢‘è®¿é—®æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼š

```
ğŸ“¦ å†…å­˜ç¼“å­˜
â”œâ”€ è§„åˆ™ç›¸ä¼¼åº¦åˆ†æ•°
â”œâ”€ ä»»åŠ¡ç±»å‹åˆ†ç±»ç»“æœ
â”œâ”€ ç»„ä»¶ç›®å½•ç´¢å¼•
â””â”€ æœ€è¿‘æŒ‡æ ‡å¿«ç…§
```

**é…ç½®ï¼š**
- TTL: 5 åˆ†é’Ÿ
- æœ€å¤§æ¡ç›®: 1000
- æ·˜æ±°ç­–ç•¥: LRU

### 2. æ–‡ä»¶ç¼“å­˜

è®¡ç®—å¯†é›†ç»“æœå­˜å‚¨åˆ°æ–‡ä»¶ï¼š

```
ğŸ“ .autodev/.cache/
â”œâ”€ project-facts.cache.json
â”œâ”€ rule-scores.cache.json
â”œâ”€ component-catalog.cache.json
â””â”€ metrics-snapshot.cache.json
```

**é…ç½®ï¼š**
- TTL: 1 å°æ—¶
- æ–‡ä»¶å˜æ›´è§¦å‘å¤±æ•ˆ

### 3. å¢é‡ç¼“å­˜

ä»…é‡æ–°è®¡ç®—å˜æ›´éƒ¨åˆ†ï¼š

```
ğŸ”„ å¢é‡æ›´æ–°
- æ–°å¢æ–‡ä»¶: ä»…åˆ†ææ–°æ–‡ä»¶
- è§„åˆ™å˜æ›´: ä»…é‡ç®—å—å½±å“åˆ†æ•°
- ä»»åŠ¡å®Œæˆ: ä»…æ›´æ–°ç›¸å…³æŒ‡æ ‡
```

## ç¼“å­˜ç­–ç•¥

### è§„åˆ™åŒ¹é…ç¼“å­˜

```
ç¼“å­˜é”®: task_description_hash + rules_hash
ç¼“å­˜å€¼: åŒ¹é…ç»“æœ + åˆ†æ•°
å¤±æ•ˆ: è§„åˆ™æ–‡ä»¶å˜æ›´

æµç¨‹:
1. è®¡ç®—ç¼“å­˜é”®
2. æ£€æŸ¥ç¼“å­˜ â†’ å‘½ä¸­åˆ™è¿”å›
3. æ‰§è¡ŒåŒ¹é…è®¡ç®—
4. å­˜å…¥ç¼“å­˜
5. è¿”å›ç»“æœ
```

### é¡¹ç›®åˆ†æç¼“å­˜

```
ç¼“å­˜é”®: é¡¹ç›®æ ¹ç›®å½• + æ–‡ä»¶å“ˆå¸Œ
ç¼“å­˜å€¼: project-facts.json
å¤±æ•ˆ: package.json æˆ–ç›®å½•ç»“æ„å˜æ›´

æµç¨‹:
1. æ£€æŸ¥ç¼“å­˜æ–‡ä»¶å­˜åœ¨
2. æ¯”å¯¹æ–‡ä»¶å“ˆå¸Œ
3. å“ˆå¸ŒåŒ¹é… â†’ è¿”å›ç¼“å­˜
4. å¦åˆ™é‡æ–°åˆ†æ
```

### æŒ‡æ ‡ç¼“å­˜

```
ç¼“å­˜é”®: task-history.json å“ˆå¸Œ
ç¼“å­˜å€¼: metrics.json
å¤±æ•ˆ: æ–°ä»»åŠ¡å®Œæˆ

æµç¨‹:
1. æ£€æŸ¥ä¸Šæ¬¡è®¡ç®—æ—¶é—´
2. æ¯”å¯¹å†å²æ–‡ä»¶å“ˆå¸Œ
3. æ— å˜æ›´ â†’ è¿”å›ç¼“å­˜
4. æœ‰å˜æ›´ â†’ å¢é‡è®¡ç®—
```

## ç¼“å­˜å¤±æ•ˆ

### è‡ªåŠ¨å¤±æ•ˆ

| è§¦å‘å™¨ | å¤±æ•ˆç¼“å­˜ |
|-------|---------|
| rules.md å˜æ›´ | è§„åˆ™åŒ¹é…ç¼“å­˜ |
| æ–‡ä»¶æ–°å¢/åˆ é™¤ | ç»„ä»¶ç›®å½•ç¼“å­˜ |
| ä»»åŠ¡å®Œæˆ | æŒ‡æ ‡ç¼“å­˜ |
| package.json å˜æ›´ | é¡¹ç›®åˆ†æç¼“å­˜ |

### æ‰‹åŠ¨å¤±æ•ˆ

```
/auto-dev:cache clear
```

æ¸…é™¤æ‰€æœ‰ç¼“å­˜ï¼Œå¼ºåˆ¶é‡æ–°è®¡ç®—ã€‚

## æ€§èƒ½ç›‘æ§

**ç¼“å­˜ç»Ÿè®¡ï¼š**

```
ğŸ“Š ç¼“å­˜ç»Ÿè®¡

å†…å­˜ç¼“å­˜:
- å‘½ä¸­ç‡: 85%
- æ¡ç›®æ•°: 234/1000
- å†…å­˜ä½¿ç”¨: 12MB

æ–‡ä»¶ç¼“å­˜:
- å‘½ä¸­ç‡: 92%
- æ€»å¤§å°: 1.2MB
- æ–‡ä»¶æ•°: 4

æœ€è¿‘æ“ä½œ:
- è§„åˆ™åŒ¹é…: 45ms (ç¼“å­˜å‘½ä¸­)
- æŒ‡æ ‡è®¡ç®—: 12ms (å¢é‡)
- é¡¹ç›®åˆ†æ: è·³è¿‡ (æ— å˜æ›´)
```

**æ€§èƒ½è­¦å‘Šï¼š**

```
âš ï¸ æ€§èƒ½è­¦å‘Š

è§„åˆ™åŒ¹é…è€—æ—¶: 150ms (ç›®æ ‡: <100ms)
åŸå› : ç¼“å­˜æœªå‘½ä¸­ï¼Œè§„åˆ™æ•°: 1200

å»ºè®®:
- æ£€æŸ¥è§„åˆ™æ–‡ä»¶æ˜¯å¦é¢‘ç¹å˜æ›´
- è€ƒè™‘å¢åŠ å†…å­˜ç¼“å­˜ TTL
```

## é¢„çƒ­ç­–ç•¥

åœ¨ /auto-dev å¯åŠ¨æ—¶é¢„åŠ è½½ç¼“å­˜ï¼š

```
ğŸ”¥ ç¼“å­˜é¢„çƒ­...
- åŠ è½½è§„åˆ™: âœ“
- é¢„è®¡ç®—åˆ†æ•°: âœ“
- åŠ è½½æŒ‡æ ‡: âœ“

é¢„çƒ­å®Œæˆ: 120ms
```
