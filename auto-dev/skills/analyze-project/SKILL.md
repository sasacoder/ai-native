---
name: analyze-project
description: è‡ªåŠ¨åˆ†æžé¡¹ç›®äº‹å®žå¹¶ç”Ÿæˆ project-facts.json
---

# Analyze Project Skill

é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ†æžé¡¹ç›®ï¼Œç”Ÿæˆ `.autodev/project-facts.json`ã€‚

## èŒè´£
- æ£€æµ‹æŠ€æœ¯æ ˆï¼ˆè¯­è¨€ã€æ¡†æž¶ã€æµ‹è¯•åº“ï¼‰
- åˆ†æžç›®å½•ç»“æž„çº¦å®š
- å‘çŽ°å·²æœ‰ç»„ä»¶/æ¨¡å—
- æ£€æµ‹ä»£ç é£Žæ ¼

## è¾“å…¥/è¾“å‡º
- **è¾“å…¥**: é¡¹ç›®æ ¹ç›®å½•
- **è¾“å‡º**: `.autodev/project-facts.json`

## è§¦å‘æ¡ä»¶

ä»…åœ¨ä»¥ä¸‹æƒ…å†µè§¦å‘ï¼š
- `/auto-dev` å‘½ä»¤é¦–æ¬¡è¿è¡Œ
- `.autodev/project-facts.json` ä¸å­˜åœ¨

## æµç¨‹

### 0. åˆå§‹åŒ– .autodev ç›®å½•

**ç¡®ä¿ç›®å½•ç»“æž„å­˜åœ¨ï¼š**

æ£€æŸ¥å¹¶åˆ›å»º `.autodev/` ç›®å½•åŠå¿…è¦æ–‡ä»¶ï¼š
- è‹¥ç›®å½•ä¸å­˜åœ¨ â†’ åˆ›å»ºç›®å½•
- è‹¥ `rules.md` ä¸å­˜åœ¨ â†’ åˆ›å»ºç©ºæ–‡ä»¶
- è‹¥ `task-history.json` ä¸å­˜åœ¨ â†’ åˆ›å»ºåˆå§‹ç»“æž„
- è‹¥ `metrics.json` ä¸å­˜åœ¨ â†’ åˆ›å»ºåˆå§‹ç»“æž„

```
ðŸ“ åˆå§‹åŒ– .autodev ç›®å½•...
- ç›®å½•: å·²åˆ›å»º
- rules.md: å·²å­˜åœ¨
- task-history.json: å·²åˆ›å»º
- metrics.json: å·²åˆ›å»º
```

### 1. æ£€æŸ¥æ–‡ä»¶å­˜åœ¨

```
ðŸ“‚ æ£€æŸ¥é¡¹ç›®äº‹å®ž...
- æ–‡ä»¶: .autodev/project-facts.json
- çŠ¶æ€: ä¸å­˜åœ¨ï¼Œå¼€å§‹åˆ†æž
```

è‹¥æ–‡ä»¶å·²å­˜åœ¨ï¼š

```
ðŸ“‚ æ£€æŸ¥é¡¹ç›®äº‹å®ž...
- æ–‡ä»¶: .autodev/project-facts.json
- çŠ¶æ€: å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ†æž
```

### 2. æ‰«ææŠ€æœ¯æ ˆ

**è¯»å– package.jsonï¼š**

```
ðŸ” åˆ†æžæŠ€æœ¯æ ˆ...

æ£€æµ‹ç»“æžœ:
- è¯­è¨€: TypeScript
- æ¡†æž¶: React
- æ ·å¼: Tailwind CSS
- æµ‹è¯•: Jest + React Testing Library
```

**è¯†åˆ«è§„åˆ™ï¼š**

| ä¾èµ– | è¯†åˆ«ä¸º |
|-----|-------|
| react | React æ¡†æž¶ |
| vue | Vue æ¡†æž¶ |
| typescript | TypeScript è¯­è¨€ |
| jest | Jest æµ‹è¯• |
| tailwindcss | Tailwind CSS |

### 3. åˆ†æžç›®å½•ç»“æž„ï¼ˆV0.4 å¢žå¼ºï¼‰

**é€’å½’æ‰«æé¡¹ç›®ç›®å½•ï¼š**

```
ðŸ“ åˆ†æžç›®å½•ç»“æž„...
- æ‰«ææ·±åº¦: 3 å±‚
- å¿½ç•¥: node_modules, .git, dist
```

**æ£€æµ‹æ¨¡å¼å’Œç½®ä¿¡åº¦ï¼š**

| ç›®å½•æ¨¡å¼ | çº¦å®šç±»åž‹ | ç½®ä¿¡åº¦å› ç´  |
|---------|---------|-----------|
| src/components/, components/ | ç»„ä»¶ç›®å½• | ç›®å½•å­˜åœ¨ + æ–‡ä»¶æ•° > 0 |
| src/hooks/, hooks/ | Hook ç›®å½• | ç›®å½•å­˜åœ¨ + åŒ…å« use*.ts |
| src/services/, services/, api/ | æœåŠ¡ç›®å½• | ç›®å½•å­˜åœ¨ + åŒ…å« API è°ƒç”¨ |
| src/utils/, utils/, helpers/ | å·¥å…·ç›®å½• | ç›®å½•å­˜åœ¨ + å¯¼å‡ºå‡½æ•° |
| __tests__/, tests/, *.test.* | æµ‹è¯•ç›®å½• | åŒ…å«æµ‹è¯•æ–‡ä»¶ |
| src/styles/, styles/, css/ | æ ·å¼ç›®å½• | åŒ…å« CSS/SCSS æ–‡ä»¶ |

**ç½®ä¿¡åº¦è®¡ç®—ï¼š**

```
ç½®ä¿¡åº¦ = ç›®å½•å­˜åœ¨(40%) + æ–‡ä»¶æ•°é‡(30%) + å¯¼å…¥å¼•ç”¨(30%)
```

**æ£€æµ‹ç¤ºä¾‹ï¼š**

```
ðŸ“ åˆ†æžç›®å½•ç»“æž„...

æ£€æµ‹ç»“æžœ:
- components: src/components/ [é«˜ç½®ä¿¡åº¦]
  â†³ å­˜åœ¨: âœ“, æ–‡ä»¶æ•°: 12, å¯¼å…¥: 45æ¬¡
- hooks: src/hooks/ [é«˜ç½®ä¿¡åº¦]
  â†³ å­˜åœ¨: âœ“, æ–‡ä»¶æ•°: 5, å¯¼å…¥: 23æ¬¡
- services: src/api/ [ä¸­ç½®ä¿¡åº¦]
  â†³ å­˜åœ¨: âœ“, æ–‡ä»¶æ•°: 3, å¯¼å…¥: 8æ¬¡
- utils: src/utils/ [é«˜ç½®ä¿¡åº¦]
  â†³ å­˜åœ¨: âœ“, æ–‡ä»¶æ•°: 8, å¯¼å…¥: 67æ¬¡
- tests: __tests__/ [é«˜ç½®ä¿¡åº¦]
  â†³ å­˜åœ¨: âœ“, æ–‡ä»¶æ•°: 20
```

**Monorepo æ”¯æŒï¼š**

æ£€æµ‹ monorepo ç»“æž„ï¼ˆpackages/, apps/ï¼‰ï¼š

```
ðŸ“¦ æ£€æµ‹åˆ° Monorepo ç»“æž„
- ç±»åž‹: Turborepo
- åŒ…ç›®å½•: packages/
- åº”ç”¨ç›®å½•: apps/

å­åŒ…åˆ†æž:
- packages/ui: ç»„ä»¶åº“
- packages/utils: å·¥å…·åº“
- apps/web: Web åº”ç”¨
```

**éžæ ‡å‡†çº¦å®šå¤„ç†ï¼š**

```
âš ï¸ éžæ ‡å‡†ç›®å½•ç»“æž„
- ç»„ä»¶: lib/widgets/ (éžæ ‡å‡†)
- å»ºè®®: è€ƒè™‘é‡æž„ä¸º src/components/
```

### 4. å‘çŽ°å·²æœ‰ç»„ä»¶ï¼ˆV0.4 å¢žå¼ºï¼‰

**æ‰«æç»„ä»¶ç›®å½•ï¼š**

é€’å½’æ‰«æå·²è¯†åˆ«çš„ç»„ä»¶ç›®å½•ï¼Œæå–ç»„ä»¶å…ƒæ•°æ®ï¼š

```
ðŸ§© å‘çŽ°ç»„ä»¶...
- æ‰«æç›®å½•: src/components/
- æ‰¾åˆ°ç»„ä»¶: 12 ä¸ª
```

**ç»„ä»¶å…ƒæ•°æ®æå–ï¼š**

| æå–é¡¹ | æ–¹æ³• | ç¤ºä¾‹ |
|-------|------|------|
| ç»„ä»¶å | æ–‡ä»¶å/å¯¼å‡ºå | Button |
| ç±»åž‹ | AST åˆ†æž | functional |
| Props | interface/PropTypes | { onClick, disabled } |
| ä¾èµ– | import è¯­å¥ | React, classnames |
| ä½¿ç”¨æ¬¡æ•° | å…¨å±€ import æœç´¢ | 23 æ¬¡ |

**ç»„ä»¶åˆ†ç±»ï¼š**

| ç»„ä»¶æ¨¡å¼ | è¯†åˆ«ç‰¹å¾ |
|---------|---------|
| Button | åç§°å« Button/Btn |
| Modal | åç§°å« Modal/Dialog |
| Form | åç§°å« Form/Input |
| Table | åç§°å« Table/List |
| Layout | åç§°å« Layout/Container |

**è¯¦ç»†è¾“å‡ºï¼š**

```
ðŸ§© ç»„ä»¶ç›®å½•:

Button (src/components/Button/index.tsx)
â”œâ”€ ç±»åž‹: functional
â”œâ”€ Props: onClick, disabled, variant, size
â”œâ”€ ä¾èµ–: React, classnames
â””â”€ ä½¿ç”¨: 45 æ¬¡

Modal (src/components/Modal/index.tsx)
â”œâ”€ ç±»åž‹: functional
â”œâ”€ Props: isOpen, onClose, title, children
â”œâ”€ ä¾èµ–: React, Portal, useClickOutside
â””â”€ ä½¿ç”¨: 12 æ¬¡

Form (src/components/Form/index.tsx)
â”œâ”€ ç±»åž‹: functional
â”œâ”€ Props: onSubmit, initialValues, validation
â”œâ”€ ä¾èµ–: React, useForm, yup
â””â”€ ä½¿ç”¨: 8 æ¬¡
```

**ç»„ä»¶ç›®å½•ç»“æž„ï¼š**

```json
{
  "existingComponents": [
    {
      "name": "Button",
      "path": "src/components/Button/index.tsx",
      "type": "functional",
      "props": ["onClick", "disabled", "variant", "size"],
      "dependencies": ["React", "classnames"],
      "usageCount": 45
    },
    {
      "name": "Modal",
      "path": "src/components/Modal/index.tsx",
      "type": "functional",
      "props": ["isOpen", "onClose", "title", "children"],
      "dependencies": ["React", "Portal"],
      "usageCount": 12
    }
  ]
}
```

**ç»„ä»¶æœç´¢ï¼š**

æ”¯æŒæŒ‰åç§°ã€ç±»åž‹ã€Props æœç´¢ç»„ä»¶ï¼š

```
ðŸ” æœç´¢ç»„ä»¶: "form"

åŒ¹é…ç»“æžœ:
- Form (å®Œå…¨åŒ¹é…)
- FormInput (éƒ¨åˆ†åŒ¹é…)
- FormSelect (éƒ¨åˆ†åŒ¹é…)
```

### 5. æ£€æµ‹ä»£ç é£Žæ ¼ï¼ˆV0.4 å¢žå¼ºï¼‰

**åˆ†æžä»£ç æ–‡ä»¶ï¼š**

æ‰«æé¡¹ç›®ä¸­çš„ä»£ç æ–‡ä»¶ï¼Œç»Ÿè®¡å„ç§é£Žæ ¼çš„ä½¿ç”¨é¢‘çŽ‡ï¼š

```
ðŸŽ¨ æ£€æµ‹ä»£ç é£Žæ ¼...
- æ‰«ææ–‡ä»¶: 45 ä¸ª
- é‡‡æ ·åˆ†æž: å®Œæˆ
```

**æ£€æµ‹ç»´åº¦ï¼š**

| ç»´åº¦ | æ£€æµ‹æ–¹æ³• | ç½®ä¿¡åº¦è®¡ç®— |
|-----|---------|-----------|
| å‘½åçº¦å®š | æ­£åˆ™åŒ¹é…å˜é‡/å‡½æ•°å | ä½¿ç”¨é¢‘çŽ‡ / æ€»æ•° |
| ç¼©è¿›é£Žæ ¼ | ç»Ÿè®¡è¡Œé¦–ç©ºç™½ | æœ€å¸¸è§æ¨¡å¼å æ¯” |
| å¼•å·é£Žæ ¼ | ç»Ÿè®¡å­—ç¬¦ä¸²å¼•å· | å•/åŒå¼•å·æ¯”ä¾‹ |
| åˆ†å·ä½¿ç”¨ | ç»Ÿè®¡è¯­å¥ç»“å°¾ | æœ‰/æ— åˆ†å·æ¯”ä¾‹ |
| å°¾é€—å· | æ£€æµ‹æ•°ç»„/å¯¹è±¡ç»“å°¾ | ä½¿ç”¨é¢‘çŽ‡ |

**å‘½åçº¦å®šæ£€æµ‹ï¼š**

```
å‡½æ•°å‘½å:
- camelCase: 85% (ç½®ä¿¡åº¦: é«˜)
- snake_case: 10%
- å…¶ä»–: 5%

ç»„ä»¶å‘½å:
- PascalCase: 95% (ç½®ä¿¡åº¦: é«˜)

å¸¸é‡å‘½å:
- UPPER_CASE: 70% (ç½®ä¿¡åº¦: ä¸­)
```

**ç¼©è¿›é£Žæ ¼æ£€æµ‹ï¼š**

```
ç¼©è¿›åˆ†æž:
- 2 spaces: 90% (ç½®ä¿¡åº¦: é«˜)
- 4 spaces: 8%
- tabs: 2%

â†’ æŽ¨è: 2 spaces
```

**ç½®ä¿¡åº¦è¯„çº§ï¼š**

| å æ¯” | ç½®ä¿¡åº¦ |
|-----|-------|
| >= 80% | é«˜ |
| 60-79% | ä¸­ |
| < 60% | ä½Ž |

**æ··åˆé£Žæ ¼å¤„ç†ï¼š**

å½“æ£€æµ‹åˆ°æ··åˆé£Žæ ¼æ—¶ï¼ˆç½®ä¿¡åº¦ä½Žï¼‰ï¼š
1. è®°å½•æ‰€æœ‰æ£€æµ‹åˆ°çš„é£Žæ ¼
2. é€‰æ‹©æœ€å¸¸è§çš„ä½œä¸ºæŽ¨è
3. åœ¨ project-facts.json ä¸­æ ‡æ³¨ä¸ç¡®å®šæ€§

```
âš ï¸ æ£€æµ‹åˆ°æ··åˆé£Žæ ¼
- å¼•å·: å•å¼•å· 55%, åŒå¼•å· 45%
- æŽ¨è: single (ç½®ä¿¡åº¦: ä½Ž)
- å»ºè®®: è¿è¡Œ eslint --fix ç»Ÿä¸€é£Žæ ¼
```

**æ£€æµ‹ç»“æžœï¼š**

```
ðŸŽ¨ æ£€æµ‹ä»£ç é£Žæ ¼...

æ£€æµ‹ç»“æžœ:
- å‘½å: camelCase (å‡½æ•°), PascalCase (ç»„ä»¶) [é«˜ç½®ä¿¡åº¦]
- ç¼©è¿›: 2 spaces [é«˜ç½®ä¿¡åº¦]
- å¼•å·: single quotes [é«˜ç½®ä¿¡åº¦]
- åˆ†å·: æ—  [ä¸­ç½®ä¿¡åº¦]
- å°¾é€—å·: ä½¿ç”¨ [é«˜ç½®ä¿¡åº¦]
```

### 6. ç”Ÿæˆ project-facts.json

**è¾“å‡ºç»“æž„ï¼š**

```json
{
  "techStack": {
    "language": "TypeScript",
    "framework": "React",
    "styling": "Tailwind CSS",
    "testing": "Jest + React Testing Library"
  },
  "directoryConventions": {
    "components": "src/components/",
    "hooks": "src/hooks/",
    "services": "src/services/",
    "utils": "src/utils/"
  },
  "existingComponents": [
    "Button",
    "Modal",
    "Form",
    "Table"
  ],
  "codeStyle": {
    "naming": "camelCase for functions, PascalCase for components",
    "indentation": "2 spaces",
    "quotes": "single"
  },
  "analyzedAt": "2024-01-15T10:30:00Z"
}
```

```
âœ… é¡¹ç›®åˆ†æžå®Œæˆ
- è¾“å‡º: .autodev/project-facts.json
```

## é”™è¯¯å¤„ç†

| é”™è¯¯ç±»åž‹ | å¤„ç†æ–¹å¼ |
|---------|---------|
| package.json ä¸å­˜åœ¨ | ä½¿ç”¨é»˜è®¤å€¼ï¼Œç»§ç»­åˆ†æž |
| ç›®å½•ä¸ºç©º | è·³è¿‡è¯¥ç›®å½•ç±»åž‹ |
| æ··åˆä»£ç é£Žæ ¼ | ä½¿ç”¨æœ€å¸¸è§çš„é£Žæ ¼ |

